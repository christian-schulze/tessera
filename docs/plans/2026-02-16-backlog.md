# Tessera Backlog

This document tracks future features and enhancements. Add new ideas here as they come up.

## Layout + Overflow

- Add a user-defined hook (configurable/scriptable) to decide what happens when tiling space runs out (e.g., float the new window, switch layout, or prompt).
- Make the layout retry window configurable via config/IPC (e.g., max attempts or total retry duration).
- Generate a default config file containing all defaults (good starting point for customization).

## Command System

- Fix Looking Glass return value for non-IPC `globalThis.__tessera.execute` in nested sessions (currently returns `undefined`).

## Visual Focus

- ~~Render a focused-window border using GNOME Shell actor styling (frame-only) with configurable color and width.~~ **Done** — `focusedBorder: { color, width }` in config; implemented as 4 inset `St.Widget` bars on `global.window_group` (`src/focus-border.ts`).

## Layout Gaps

Add configurable gaps between tiled windows and around workspace edges. Config shape:

```js
gaps: { inner: 8, outer: 4 }  // pixels; default 0
```

What needs implementing:
- Add `GapsConfig = { inner: number; outer: number }` type and `gaps` field to `TesseraConfig` / `DEFAULT_CONFIG` in `src/config.ts`, with a `normalizeGaps()` validator in `applyConfig()`.
- Thread `gaps` through `reflow()` in `src/tree/reflow.ts` — apply `inner` gap between sibling tiles and `outer` gap between workspace edge and outermost tiles.
- Tests are already written and marked pending (`xit`/`xdescribe`) in `tests/unit/config.test.ts` and `tests/unit/reflow.test.ts`; un-pend them when implemented.

## Interaction

- Allow dragging tiles to swap locations.
- Fix split and layout toggle bindings not working correctly (likely related to alternating layout).
- Add GNOME top-panel icon with dropdown; include "Open logs" action that opens `~/.local/state/tessera/tessera.log`.
